# üéµ Music Library API

RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —Å –∞—Ä—Ç–∏—Å—Ç–∞–º–∏, –∞–ª—å–±–æ–º–∞–º–∏ –∏ —Ç—Ä–µ–∫–∞–º–∏.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ç–∏—Å—Ç–∞–º–∏**: —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–∏—Å–∫, –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–†–∞–±–æ—Ç–∞ —Å –∞–ª—å–±–æ–º–∞–º–∏**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ, —Å–≤—è–∑—å —Å –∞—Ä—Ç–∏—Å—Ç–∞–º–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Ä–µ–ª–∏–∑–∞
- **–¢—Ä–µ–∫–∏**: –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∞–ª—å–±–æ–º–∞–º, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- **–ü–æ–∏—Å–∫**: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∂–∞–Ω—Ä–∞–º, –∞—Ä—Ç–∏—Å—Ç–∞–º, –¥–∞—Ç–∞–º
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –ê—Ä—Ç–∏—Å—Ç—ã
```http
POST /api/artists
```
**–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–∏—Å—Ç–∞**  
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `name` (string, required)
- `formation_year` (date: YYYY-MM-DD)
- `description` (string)

---

```http
GET /api/artists/{id}
```
**–ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ç–∏—Å—Ç–∞ —Å –∞–ª—å–±–æ–º–∞–º–∏**  
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 1,
  "name": "The Beatles",
  "albums": [
    {
      "id": 1,
      "title": "Abbey Road",
      "release_date": "1969-09-26"
    }
  ]
}
```

#### –ê–ª—å–±–æ–º—ã
```http
POST /api/albums
```
**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–ª—å–±–æ–º–∞**  
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∞—Ä—Ç–∏—Å—Ç—É
- –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –∞—Ä—Ç–∏—Å—Ç–∞

```http
GET /api/albums/{id}/songs
```
**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –∞–ª—å–±–æ–º–∞**  
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:
- `limit` (default: 20)
- `offset` (default: 0)

---

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```bash
curl -X POST 'http://api.example.com/albums' \
  -H 'Authorization: Bearer YOUR_TOKEN' \
  -d '{
    "title": "Thriller",
    "artist_id": 5,
    "release_date": "1982-11-30"
  }'
```

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **–Ø–∑—ã–∫**: Go (Gin framework)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + GORM
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker
- **–î–µ–ø–ª–æ–π**: Kubernetes (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–¥–∞—Ç—ã, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ (HTTP 400, 404, 500 —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π)
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ OpenAPI/Swagger
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (Zap logger)
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ >80%

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```bash
# –ó–∞–ø—É—Å–∫ —Å Docker
docker-compose up -d

# –ú–∏–≥—Ä–∞—Ü–∏–∏
goose -dir migrations postgres "user=postgres dbname=musiclib sslmode=disable" up
```
